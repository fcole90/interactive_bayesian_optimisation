<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<script type="text/javascript">
  // set the pyodide files URL (packages.json, pyodide.asm.data etc)
  window.languagePluginUrl = 'https://pyodide-cdn2.iodide.io/v0.15.0/full/';
</script>
<script type="text/javascript" src="https://pyodide-cdn2.iodide.io/v0.15.0/full/pyodide.js"></script>
<script type="text/javascript">
  pythonCode = `
      def do_work(*args):
          print("Success")

      import micropip
      micropip.install('PyYAML').then(do_work)
    `

  languagePluginLoader.then(() => {
    return pyodide.loadPackage(['micropip'])
  }).then(() => {
    pyodide.runPython(pythonCode);
  })
</script>
</body>
</html>